# 開発ナレッジベース

このファイルは、開発中に学んだこと、議論したこと、設計上の決定事項などを記録するためのドキュメントです。

## よくある質問（Q&A）

### Q. コメントの`store`メソッドを全てAJAXにし、リダイレクトをそもそも行わないようにするのはよくないのか？

**A.**
結論から言うと、「AJAXならJSON、通常リクエストならリダイレクト」という現在の**条件分岐を残す方が堅牢な設計**です。

理由は以下の通りです。

1.  **フォールバック機能（段階的強化）**:
    JavaScriptが無効になっているブラウザ（セキュリティ設定、拡張機能など）や、古いブラウザ、ネットワークエラーでJSファイルの読み込みに失敗した場合でも、HTMLの標準フォーム送信機能によってコメントを投稿できます。これを「プログレッシブ・エンハンスメント（段階的強化）」と呼び、モダンなWeb開発の基本原則の一つです。

2.  **アクセシビリティ**:
    スクリーンリーダーなどの支援技術は、必ずしもJavaScriptを完璧に解釈できるわけではありません。基本的なHTMLの機能で動作を保証することは、より多くの人がサイトを利用できるようにするために重要です。

3.  **SEO（検索エンジン最適化）**:
    Googleなどの検索エンジンクローラーはJavaScriptを解釈できますが、基本的なHTMLリンクやフォーム送信の方が、サイトの構造をより確実に理解するのに役立つ場合があります。

このように、**「JavaScriptが動かない環境」を考慮に入れる**ことで、より多くのユーザーが問題なく使える、より信頼性の高いアプリケーションになります。 